# Базовый игровой сервер ( 05/2016 )
Нужно написать скрипт на `node.js`, который:
* Создает в памяти поле 20000х20000 пикселей
* При старте на поле генерируется 10000 точек-еды в случайных местах
* Каждую секунду генерируется 100 новых точек-еды
* По полю ездят 10 кругов, их направления движения (вектора движения) выбирается случайным образом при старте
* Круги, наезжая на точки-еду, поедают ее и увеличиваются в размере, максимальный размер круга не ограничен
* Круги, врезаясь друг в друга и в край карты, меняют свое направление на зеркальное
* Один игровой тик должен укладываться в 50мс для обеспечения 20 тиков в секунду

При написании скрипта подумать, в каких местах могут быть проблемы с производительностью, и заранее решить их. Подумать, в каких местах могут быть логические проблемы, какие, попытаться заранее решить их.

## Комментарии
Тестовое делалось весной 2016 года и на данный момент есть несколько комментариев:
* В коде есть использование arguments, больше я так не делаю
* Разрешалось использовать сторонние библиотеки, потому я не стал реализовывать алгоритм расчёта коллизий самостоятельно и взял готовую реализацию квадратичного дерева. Сейчас я бы использовал `RTree` как более быстрый алгоритм.
* Визуальная часть получает данные через JSON, сейчас я бы переделал на обмен данных через бинарный протокол для экономии трафика. Протокол можно было бы реализовать самостоятельно или взять `Protobuf`
* В скрипте кэшируется расчёт дистанции, но как показали последующие эксперименты, машина быстрее считает математику, чем вытаскивает данные из кэша.
* Визуальная часть может подтормаживать в плане анимации, так как никак не оптимизировалась. Её вообще делать было необязательно, но я добавил, так как так намного проще визуально искать ошибки в логике работы скрипта. 

## Запуск
```
$ npm i
$ node game.js 
или
$ pm2 start processes.json
```
Откройте в браузере ссылку `http://localhost:5555/views/game.html` или `http://timon.ru:5555/views/game.html` ( не факт, что сервис будет доступен в момент проверки )
